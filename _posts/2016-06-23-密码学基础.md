---
layout: post
title: 密码学
categories: [信息安全]
description: 不同的加密方式
keywords: 密码学, 加密方式
---

### 密码学基础...

***

首先，我们找两个人物作为通信的双方，教材上都选用Alice和Bob（我想是不是由a和b联想出来的），考虑到国共时期发送电报，谍战的电视剧比较多，我也选用那时候的人物————`蒋介石`和`宋美龄`吧！

![](http://i1.piimg.com/567571/a83bf322bcc74f0a.png)

老蒋想对宋美龄说悄悄话，悄悄话肯定不希望别人知道啦，所以老蒋把悄悄话用密钥`K`加密，宋美龄收到密文之后用同样的密钥`K`、加密算法所对应的解密算法解密，即可得到明文————老蒋的悄悄话。这就是所谓的`对称加密`。

***

但是有没有考虑过这样一个问题，老蒋怎么把这个密码告诉给宋呢？打个电话？可能被窃听。写封信？过程中可能会被拆掉。躲在被窝里面说？特工可能在被子夹层装了窃听器qwq。密码没有安全途径传输，这时候就用到了数学五百年的成功————`非对称加密`。

![](http://i1.piimg.com/567571/074c8dd95df9de46.png)

通信之前，宋通过非对称加密算法产生一对钥（`公钥`和`私钥`），宋把公钥给老蒋，老蒋用宋的公钥加密数据，再进行传输密文操作，需要注意的一点是，对称加密算法的一个特点，信息用公钥加密后只能用私钥解，私钥加密后只能用公钥解。而不像对称加密那样。所以即使有人获取到了宋的公钥，他也无法解密老蒋发给宋的密文，而仅宋一个人拥有自己的私钥，接收到密文用其解密即可。

![](http://i2.muimg.com/567571/8647f25969ce8d0b.png)

这里描述的是假如我是攻击者，我拦截了宋发给老蒋的公钥，instead把我的公钥发给了老蒋，他用我的公钥加密后发给宋，我也截获这份密文，我用我的私钥成功解密出了明文，知道了他想要告诉宋的悄悄话，而宋那边，用我的公钥加密的密文是无法用宋的私钥解密的，得不到密文；当然作为攻击者的我也可以把解出来的明文用宋的公钥加密再给宋，这样宋和老蒋正常通讯，但是不知道明文都被我作为第三人收到了。


为什么会出现这一情况呢，问题就出现在老蒋用我的公钥加密信息，本来要发给宋的信息却用我的公钥加密，这说明老蒋不知道这公钥的合法性，所以下面要证明这公钥确是宋的，也就是`认证`。

***

通过一个叫CA的机构，宋产生一对钥后，会找CA担保，CA便会为宋出示一份数字证书，其中包括了公钥宋，而没有私钥宋。这时候给老蒋的就不是公钥了，而是数字证书了。（CA是可信赖的，如果连CA都不可信赖的话，那么便信赖可言了）老蒋通过验证数字证书的指纹，知道了就是宋的数字证书，而如果攻击者修改数字证书里面任何一部分，指纹都会被破坏。

还有其他的漏洞，我把老蒋发送的密文拦截后，我把“分手吧！”用数字证书里面的公钥宋加密发给宋，宋收到后解密大吃一惊，这里面的问题便是，什么可以证明这是老蒋发的而不是其他人发的呢？

老蒋在消息中加入`签名`即可：

![](http://i4.buimg.com/567571/10c9d8423f12ad6f.png)

老蒋先用自己的私钥加密，再用宋数字证书里的公钥加密形成密文发送，宋接收后先用自己的私钥解密，再用老蒋的公钥解密，如果解密成功，那么便可以认为这就是老蒋发送的，老蒋用自己的私钥加密的过程也成为数字签名的过程。